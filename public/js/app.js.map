{"version":3,"sources":["actions.js","components.js","app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["var actions = {\n\tinit: function() {\n\t\tthis.toogle();\n\t},\n\t\n\talert: function(message, type) {\n\t\tif( typeof type == 'undefined' ) {\n\t\t\tvar type = 'success';\n\t\t} else {\n\t\t\tvar type = type;\n\t\t}\n\t\ttoastr[type](message);\n\t},\n\t\n\ttoogle: function() {\n\t\t$('body').on('click', '[data-action=\"toogle\"]', function(e) {\n\t\t\te.preventDefault();\n\t\t\t$.each('[data-view=\"toogle\"]', function() {\n\t\t\t\t$(this).fadeOut();\n\t\t\t})\n\t\t\t$('#' + $(this).attr('href')).fadeIn();\n\t\t});\n\t}\n};","var components = {\n\t\n\targuments: {},\n\tsubMenuClass: false,\n\t\n\tinit: function() {\n\t\tthis.header();\n\t\tthis.footer();\n\t\tthis.flipBox();\n\t\tthis.searchBox();\n\t\tthis.escapeKey();\n\t\t//this.slimScroll();\n\t\tthis.slideToTop();\n\t\tthis.mobileSubMenu();\n\t\tthis.mobilePageMenu();\n\t\tthis.scrollTo();\n\t\t\n\t\t/*\n\t\tif($(\"html\").hasClass(\"chrome\") && $(\"body\").hasClass(\"smoothscroll\")) {\n\t\t\tthis.loadScript(plugin_path + 'smoothscroll.js', function() {\n\t\t\t\t$.smoothScroll();\n\t\t\t});\n\t\t}\n\t\t*/\n\t},\n\t\n\t/**\n\t * Actions de la SearchBox\n\t */\n\tsearchBox: function() {\n\t\t$('li.search i.fa').click(function () {\n\t\t\tif($('#header .search-box').is(\":visible\")) {\n\t\t\t\t$('#header .search-box').fadeOut(300);\n\t\t\t} else {\n\t\t\t\t$('.search-box').fadeIn(300);\n\t\t\t\t$('#header .search-box form input').focus();\n\t\t\t\t\n\t\t\t\t// hide quick cart if visible\n\t\t\t\tif ($('#header li.quick-cart div.quick-cart-box').is(\":visible\")) {\n\t\t\t\t\t$('#header li.quick-cart div.quick-cart-box').fadeOut(300);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tif($('#header li.search i.fa').size != 0) {\n\t\t\t$('#header .search-box, #header li.search i.fa').on('click', function(e){\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\t\n\t\t\t$('body').on('click', function() {\n\t\t\t\tif($('#header li.search .search-box').is(\":visible\")) {\n\t\t\t\t\t$('#header .search-box').fadeOut(300);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\t$(document).bind(\"click\", function() {\n\t\t\tif($('#header li.search .search-box').is(\":visible\")) {\n\t\t\t\t$('#header .search-box').fadeOut(300);\n\t\t\t}\n\t\t});\n\t\t\n\t\t$(\"#closeSearch\").bind(\"click\", function(e) {\n\t\t\te.preventDefault();\n\t\t\t$('#header .search-box').fadeOut(300);\n\t\t});\n\t},\n\t\n\t/**\n\t * Header\n\t */\n\theader: function() {\n\t\tvar header = $('#header');\n\t\tvar _headerHeight = 0;\n\t\t\n\t\tif(header.hasClass('transparent') || header.hasClass('translucent')) {\n\t\t\t_headerHeight = 0;\n\t\t} else {\n\t\t\t_headerHeight = header.outerHeight();\n\t\t\tif($(\"#topBar\").length > 0) {\n\t\t\t\t_headerHeight = _headerHeight + $(\"#topBar\").outerHeight();\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar _screenHeight = $(window).height() - _headerHeight;\n\t\t$(\"#slider.fullheight\").height(_screenHeight);\n\t\t\n\t\tif(header.hasClass('bottom')) {\n\t\t\t\n\t\t\t// Add dropup class\n\t\t\theader.addClass('dropup');\n\t\t\twindow.homeHeight \t= $(window).outerHeight() - 55;\n\t\t\t\n\t\t\t\n\t\t\t// sticky header\n\t\t\tif(header.hasClass('sticky')) {\n\t\t\t\twindow.isOnTop \t\t= true;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t// if scroll is > 60%, remove class dropup\n\t\t\t\t$(window).scroll(function() {\n\t\t\t\t\tif($(document).scrollTop() > window.homeHeight / 2) {\n\t\t\t\t\t\theader.removeClass('dropup');\n\t\t\t\t\t} else {\n\t\t\t\t\t\theader.addClass('dropup');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t// Add fixed|not fixed & dropup|no dropup\n\t\t\t\t$(window).scroll(function() {\n\t\t\t\t\tif($(document).scrollTop() > window.homeHeight) {\n\t\t\t\t\t\tif(window.isOnTop === true) {\n\t\t\t\t\t\t\t$('#header').addClass('fixed');\n\t\t\t\t\t\t\theader.removeClass('dropup');\n\t\t\t\t\t\t\twindow.isOnTop = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(window.isOnTop === false) {\n\t\t\t\t\t\t\t$('#header').removeClass('fixed');\n\t\t\t\t\t\t\theader.addClass('dropup');\n\t\t\t\t\t\t\twindow.isOnTop = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// get window height on resize\n\t\t\t\t$(window).resize(function() {\n\t\t\t\t\twindow.homeHeight = $(window).outerHeight();\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t} else\n\t\t\n\t\t// STICKY\n\t\tif(header.hasClass('sticky')) {\n\t\t\t\n\t\t\t$(window).scroll(function() {\n\t\t\t\tif(window.width > 768) {\n\t\t\t\t\t\n\t\t\t\t\tvar _scrollTop \t= $(document).scrollTop();\n\t\t\t\t\tvar\t_topBar_H \t= $(\"#topBar\").outerHeight() || 0;\n\t\t\t\t\t\n\t\t\t\t\tif(_scrollTop > _topBar_H) {\n\t\t\t\t\t\theader.addClass('fixed');\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar _header_H = header.outerHeight() || 0;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!header.hasClass('transparent') && !header.hasClass('translucent')) {\n\t\t\t\t\t\t\t$('body').css({\"padding-top\":_header_H+\"px\"});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(!header.hasClass('transparent') && !header.hasClass('translucent')) {\n\t\t\t\t\t\t\t$('body').css({\"padding-top\":\"0px\"});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\theader.removeClass('fixed');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t} else\n\t\t\n\t\tif(header.hasClass('static')) {\n\t\t\t// _header_H = header.outerHeight() + \"px\";\n\t\t\t// $('body').css({\"padding-top\":_header_H});\n\t\t}\n\t},\n\t\n\tfooter: function() {\n\t\tif($(\"#footer\").hasClass('sticky')) {\n\t\t\t\n\t\t\tvar footerHeight = 0,\n\t\t\t\tfooterTop \t= 0,\n\t\t\t\t_footer \t\t= $(\"#footer.sticky\");\n\t\t\t\n\t\t\tpositionFooter();\n\t\t\tfunction positionFooter() {\n\t\t\t\tfooterHeight = _footer.height();\n\t\t\t\tfooterTop = ($(window).scrollTop()+$(window).height()-footerHeight)+\"px\";\n\t\t\t\t\n\t\t\t\tif(($(document.body).height()+footerHeight) > $(window).height()) {\n\t\t\t\t\t_footer.css({\n\t\t\t\t\t\tposition: \"absolute\"\n\t\t\t\t\t}).stop().animate({\n\t\t\t\t\t\ttop: footerTop\n\t\t\t\t\t},0);\n\t\t\t\t} else {\n\t\t\t\t\t_footer.css({position: \"static\"});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t$(window).scroll(positionFooter).resize(positionFooter);\n\t\t}\n\t},\n\t\n\tslideToTop: function() {\n\t\t$(\"#slidetop a.slidetop-toggle\").bind(\"click\", function() {\n\t\t\t$(\"#slidetop .container\").slideToggle(150, function() {\n\t\t\t\t\n\t\t\t\tif($(\"#slidetop .container\").is(\":hidden\")) {\n\t\t\t\t\t$(\"#slidetop\").removeClass('active');\n\t\t\t\t} else {\n\t\t\t\t\t$(\"#slidetop\").addClass('active');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t});\n\t\t});\n\t},\n\t\n\tescapeKey: function() {\n\t\t$(document).keyup(function(e) {\n\t\t\tif(e.keyCode == 27) {\n\t\t\t\tif($(\"#slidetop\").hasClass(\"active\")) {\n\t\t\t\t\t$(\"#slidetop .container\").slideToggle(150, function() {\n\t\t\t\t\t\t$(\"#slidetop\").removeClass('active');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\t\n\t/**\n\t * Classes du sous Menu sous mobile\n\t */\n\tmobileSubMenu: function() {\n\t\t$(\"#topMain a.dropdown-toggle\").bind(\"click\", function(e) {\n\t\t\tif($(this).attr('href') == \"#\") {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tthis.subMenuClass = $(this).parent().hasClass(\"resp-active\");\n\t\t\t$(\"#topMain\").find(\".resp-active\").removeClass(\"resp-active\");\n\t\t\t\n\t\t\tif(!this.subMenuClass) {\n\t\t\t\t$(this).parents(\"li\").addClass(\"resp-active\");\n\t\t\t}\n\t\t\t\n\t\t\treturn;\n\t\t});\n\t},\n\t\n\t/**\n\t * Menu déroulant sous mobile\n\t */\n\tmobilePageMenu: function() {\n\t\t$(\"button#page-menu-mobile\").bind(\"click\", function() {\n\t\t\t$(this).next('ul').slideToggle(150);\n\t\t});\n\t},\n\t\n\t/**\n\t * Box de rotation\n\t */\n\tflipBox: function() {\n\t\tif($('.box-flip').length > 0) {\n\t\t\t\n\t\t\t$('.box-flip').each(function() {\n\t\t\t\tvar _height1 = $('.box1',this).outerHeight();\n\t\t\t\tvar _height2 = $('.box2',this).outerHeight();\n\t\t\t\t\n\t\t\t\tif(_height1 >= _height2) {\n\t\t\t\t\tvar _height = _height1;\n\t\t\t\t} else {\n\t\t\t\t\tvar _height = _height2;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$(this).css({\"min-height\":_height+\"px\"});\n\t\t\t\t$('.box1',this).css({\"min-height\":_height+\"px\"});\n\t\t\t\t$('.box2',this).css({\"min-height\":_height+\"px\"});\n\t\t\t});\n\t\t\t\n\t\t\t$('.box-flip').hover(function() {\n\t\t\t\t$(this).addClass('flip');\n\t\t\t},function(){\n\t\t\t\t$(this).removeClass('flip');\n\t\t\t});\n\t\t}\n\t},\n\t\n\t/**\n\t * Permet de charger des scripts JS de façon asynchrone\n\t *\n\t * DOESN'T WORKS\n\t *\n\t * @param scriptName\n\t * @param callback\n\t */\n\tloadScript: function(scriptName, callback) {\n\t\t\n\t\tif (!this.argumebts[scriptName]) {\n\t\t\tthis.arguments[scriptName] = true;\n\t\t\t\n\t\t\tvar body = document.getElementsByTagName('body')[0];\n\t\t\tvar script = document.createElement('script');\n\t\t\tscript.type = 'text/javascript';\n\t\t\tscript.src = scriptName;\n\t\t\t\n\t\t\t// then bind the event to the callback function\n\t\t\t// there are several events for cross browser compatibility\n\t\t\t// script.onreadystatechange = callback;\n\t\t\tscript.onload = callback;\n\t\t\t\n\t\t\t// fire the loading\n\t\t\tbody.appendChild(script);\n\t\t\t\n\t\t} else if (callback) {\n\t\t\tcallback();\n\t\t}\n\t},\n\t\n\t/**\n\t * SlimScroll\n\t */\n\tslimScroll: function() {\n\t\tvar _container = $('.slimscroll');\n\t\t\n\t\tif(_container.length > 0) {\n\t\t\t\n\t\t//\tthis.loadScript(plugin_path + '/jquery.slimscroll.min.js', function() {\n\t\t\t\t\n\t\t\t\t//if($.slimScroll) {\n\t\t\t\t\t\n\t\t\t\t\t$('.slimscroll').each(function () {\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar height;\n\t\t\t\t\t\tif ($(this).attr(\"data-height\")) {\n\t\t\t\t\t\t\theight = $(this).attr(\"data-height\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\theight = $(this).height();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t$(this).slimScroll({\n\t\t\t\t\t\t\tsize: \t\t\t\t$(this).attr(\"data-size\") \t\t\t\t\t\t\t|| '5px',\n\t\t\t\t\t\t\topacity: \t\t\t$(this).attr(\"data-opacity\") \t\t\t\t\t\t|| .6,\n\t\t\t\t\t\t\tposition: \t\t\t$(this).attr(\"data-position\") \t\t\t\t\t\t|| 'right',\n\t\t\t\t\t\t\tallowPageScroll:\tfalse, // not working\n\t\t\t\t\t\t\tdisableFadeOut: \tfalse,\n\t\t\t\t\t\t\trailVisible: \t\ttrue,\n\t\t\t\t\t\t\trailColor: \t\t\t$(this).attr(\"data-railColor\")\t\t\t\t\t\t|| '#222',\n\t\t\t\t\t\t\trailOpacity: \t\t$(this).attr(\"data-railOpacity\") \t\t\t\t\t|| 0.05,\n\t\t\t\t\t\t\talwaysVisible: \t\t($(this).attr(\"data-alwaysVisible\") != \"false\" \t? true : false),\n\t\t\t\t\t\t\trailVisible: \t\t($(this).attr(\"data-railVisible\")   != \"false\" \t? true : false),\n\t\t\t\t\t\t\tcolor: \t\t\t\t$(this).attr(\"data-color\")  \t\t\t\t\t\t|| '#333',\n\t\t\t\t\t\t\twrapperClass: \t\t$(this).attr(\"data-wrapper-class\") \t\t\t\t|| 'slimScrollDiv',\n\t\t\t\t\t\t\trailColor: \t\t\t$(this).attr(\"data-railColor\")  \t\t\t\t\t|| '#eaeaea',\n\t\t\t\t\t\t\theight: \t\t\theight\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Disable body scroll on slimscroll hover\n\t\t\t\t\t\tif($(this).attr('disable-body-scroll') == 'true') {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t$(this).bind('mousewheel DOMMouseScroll', function(e) {\n\t\t\t\t\t\t\t\tvar scrollTo = null;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (e.type == 'mousewheel') {\n\t\t\t\t\t\t\t\t\tscrollTo = (e.originalEvent.wheelDelta * -1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (e.type == 'DOMMouseScroll') {\n\t\t\t\t\t\t\t\t\tscrollTo = 40 * e.originalEvent.detail;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (scrollTo) {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t$(this).scrollTop(scrollTo + $(this).scrollTop());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t//}\n\t\t\t\t\n\t\t\t//});\n\t\t\t\n\t\t}\n\t},\n\t\n\twordCounter: function() {\n\t\t$(\"textarea.word-count\").on('keyup', function() {\n\t\t\tvar _t\t\t= $(this),\n\t\t\t\twords \t= this.value.match(/\\S+/g).length,\n\t\t\t\t_limit\t= _t.attr('data-maxlength') || 200;\n\t\t\t\n\t\t\tif (words > parseInt(_limit)) {\n\t\t\t\t\n\t\t\t\t// Split the string on first 200 words and rejoin on spaces\n\t\t\t\tvar trimmed = _t.val().split(/\\s+/, 200).join(\" \");\n\t\t\t\t// Add a space at the end to keep new typing making new words\n\t\t\t\t_t.val(trimmed + \" \");\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tvar _data_info = _t.attr('data-info');\n\t\t\t\t\n\t\t\t\tif(_data_info == '' || _data_info == undefined) {\n\t\t\t\t\tvar _infoContainer = _t.next('div');\n\t\t\t\t\t$('span', _infoContainer).text(words + '/' + _limit);\n\t\t\t\t} else {\n\t\t\t\t\t$('#' +_data_info).text(words + '/' + _limit);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t}\n\t\t});\n\t},\n\t\n\t/**\n\t * Scroll TO\n\t * @param to\n\t * @param offset\n\t */\n\tscrollTo: function() {\n\t\t\n\t\t$(\"a.scrollTo\").bind(\"click\", function(e) {\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tvar href \t= $(this).attr('href'),\n\t\t\t\t_offset\t= $(this).attr('data-offset') || 0;\n\t\t\t\n\t\t\tif(href != '#' && href != '#top') {\n\t\t\t\t$('html,body').animate({scrollTop: $(href).offset().top - parseInt(_offset)}, 800, 'easeInOutExpo');\n\t\t\t}\n\t\t\t\n\t\t\tif(href == '#top') {\n\t\t\t\t$('html,body').animate({scrollTop: 0}, 800, 'easeInOutExpo');\n\t\t\t}\n\t\t});\n\t\t\n\t\t$(\"#toTop\").bind(\"click\", function(e) {\n\t\t\te.preventDefault();\n\t\t\t$('html,body').animate({scrollTop: 0}, 800, 'easeInOutExpo');\n\t\t});\n\t\t\n\t}\n};","window.width = $(window).width();\nvar plugin_path = document.location.origin + '/js/plugins';\n\nvar app = {\n\t\n\t/**\n\t * On initialise l'application\n\t */\n\tinit: function() {\n\t\t$.ajaxSetup({\n\t\t\tcache: false,\n\t\t\theaders: {'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')}\n\t\t});\n\t\t\n\t\t$(function () {\n\t\t\t$('[data-toggle=\"tooltip\"]').tooltip()\n\t\t});\n\t\t\n\t\tthis.delete();\n\t\tthis.loadJson();\n\t\tthis.loadDataOnClick();\n\t\tcomponents.init();\n\t\tactions.init();\n\t},\n\t\n\t/**\n\t * Soumission d'un formulaire en AJAX\n\t * @param form\n\t * @param submit\n\t */\n\tsubmitForm: function(form, submit, callback) {\n\t\t$('body').on('click', submit, function(e) {\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tvar f = $(form);\n\t\t\tvar formData = new FormData(f[0]);\n\t\t\t\n\t\t\tif( $('.' + f.attr('id') + '-errors').length > 0 ) {\n\t\t\t\t$('.' + f.attr('id') + '-errors').fadeOut().remove();\n\t\t\t\t$('#' + f.attr('id') + ' .form-group').removeClass('has-error');\n\t\t\t\t$('#' + f.attr('id') + ' .return-error').remove();\n\t\t\t}\n\t\t\t\n\t\t\tvar btnText = $(submit).html();\n\t\t\t$(submit).html('<i class=\"fa fa-spinner fa-spin fa-fw\"></i>');\n\t\t\t\n\t\t\t$.ajax({\n\t\t\t\turl: f.attr('action'),\n\t\t\t\tmethod: f.attr('method'),\n\t\t\t\tdata: formData,\n\t\t\t\tdataType: 'JSON',\n\t\t\t\tcache: false,\n\t\t\t\tcontentType: false,\n\t\t\t\tprocessData: false,\n\t\t\t\tsuccess: function(response) {\n\t\t\t\t\t\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t\n\t\t\t\t\tvar timer = 0;\n\t\t\t\t\tif( typeof response.timer != 'undefined' ) {\n\t\t\t\t\t\ttimer = response.timer;\n\t\t\t\t\t\tif( typeof response.redirect != 'undefined' && timer == 0 ) {\n\t\t\t\t\t\t\ttimer = 5000;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconsole.log(timer);\n\t\t\t\t\t\n\t\t\t\t\tif( typeof response.content != 'undefined' ) {\n\t\t\t\t\t\t$(response.element)[response.method](response.content);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif( typeof response.alert != 'undefined' ) {\n\t\t\t\t\t\t\tvar alertType = '';\n\t\t\t\t\t\t\tif (typeof response.type != 'undefined') {\n\t\t\t\t\t\t\t\talertType = response.type;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\t\t\talertType = 'success';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\talertType = 'error';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttoastr[alertType](response.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif( typeof response.clean != 'undefined' && typeof response.to_clean != 'undefined' && response.clean ) {\n\t\t\t\t\t\t\t$.each(response.to_clean, function(key, value) {\n\t\t\t\t\t\t\t\tif( $('#' + value).length > 0 ) {\n\t\t\t\t\t\t\t\t\t$('#' + value).val('');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif( typeof response.inputs != 'undefined' ) {\n\t\t\t\t\t\t\t$.each(response.inputs, function(key, value) {\n\t\t\t\t\t\t\t\tif( $('#' + key).length > 0 ) {\n\t\t\t\t\t\t\t\t\t$('#' + key).val(value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif( typeof response.redirect != 'undefined' ) {\n\t\t\t\t\t\t\t//var timer = typeof response.timer == 'undefined' ? 5000 : response.timer;\n\t\t\t\t\t\t\t//setTimeout(function() {\n\t\t\t\t\t\t\t\t$(location).attr('href', response.redirect);\n\t\t\t\t\t\t\t//}, timer);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, timer);\n\t\t\t\t\t$(submit).html(btnText);\n\t\t\t\t\t\n\t\t\t\t\tif( typeof callback != 'undefined' && typeof callback == 'function' ) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror :function(response) {\n\t\t\t\t\tvar $errorsReturn = '';\n\t\t\t\t\tvar $errors = $.parseJSON(response.responseText);\n\t\t\t\t\t\n\t\t\t\t\t$.each( $errors, function( key, value ) {\n\t\t\t\t\t\t$errorsReturn += '<li>' + value[0] + '</li>';\n\t\t\t\t\t\t$('#' + f.attr('id') + ' #' + key).parents('.form-group').addClass('has-error');\n\t\t\t\t\t\t$('#' + f.attr('id') + ' #' + key).after('<span class=\"help-block return-error\">' + value[0] + '</span>');\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tf.prepend('<div class=\"alert alert-danger ' + f.attr('id') + '-errors\"><ul>' + $errorsReturn + '</ul></di>');\n\t\t\t\t\t$(submit).html(btnText);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\t\n\t/**\n\t * Permet d'intéragir en JSON facilement\n\t */\n\tloadJson: function() {\n\t\t$('body').on('click', '[data-action=\"json\"]', function(e) {\n\t\t\te.preventDefault();\n\t\t\t$.ajax({\n\t\t\t\turl: $(this).attr('href'),\n\t\t\t\tmethod: 'GET',\n\t\t\t\tdataType: 'JSON',\n\t\t\t\tsuccess: function(response) {\n\t\t\t\t\tif( response.success ) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar timer = 0;\n\t\t\t\t\t\tif( typeof response.timer != 'undefined' ) {\n\t\t\t\t\t\t\ttimer = response.timer;\n\t\t\t\t\t\t\tif( typeof response.redirect != 'undefined' && timer == 0 ) {\n\t\t\t\t\t\t\t\ttimer = 5000;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log(timer);\n\t\t\t\t\t\t\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tif( typeof response.alert != 'undefined' ) {\n\t\t\t\t\t\t\t\tvar alertType = 'success';\n\t\t\t\t\t\t\t\tif( typeof response.type != 'undefined' ) {\n\t\t\t\t\t\t\t\t\talertType = response.type;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttoastr[alertType](response.message);\n\t\t\t\t\t\t\t} else if( typeof response.content != 'undefined' ) {\n\t\t\t\t\t\t\t\t$(response.element)[response.method](response.content);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif( typeof response.redirect != 'undefined' ) {\n\t\t\t\t\t\t\t\t//var timer = typeof response.timer == 'undefined' ? 5000 : response.timer;\n\t\t\t\t\t\t\t\t//setTimeout(function() {\n\t\t\t\t\t\t\t\t\t$(location).attr('href', response.redirect);\n\t\t\t\t\t\t\t\t//}, timer);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, timer);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoastr['error'](response.message);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t})\n\t\t})\n\t},\n\t\n\t\n\t/**\n\t * Permet de charger avec des réglages prédéfinis summernote\n\t * @param form\n\t * @param textarea\n\t */\n\tloadSummerNote: function(form, textarea) {\n\t\t$(textarea).summernote({\n\t\t\theight: 500,\n\t\t\tlang: 'fr-FR',\n\t\t\tdialogsInBody: true,\n\t\t\tcallbacks: {\n\t\t\t\tonImageUpload: function(image) {\n\t\t\t\t\tconsole.log(image[0]);\n\t\t\t\t\tuploadImage(image[0]);\n\t\t\t\t},\n\t\t\t}\n\t\t});\n\t\t\n\t\t/**\n\t\t * Upload d'image en AJAX avec summernote\n\t\t * @param image\n\t\t */\n\t\tfunction uploadImage(image) {\n\t\t\tvar data = new FormData();\n\t\t\tdata.append('picture', image);\n\t\t\t//data.append('_token', $('meta[name=\"csrf-token\"]').attr('content'));\n\t\t\tdata.append('_method', 'POST');\n\t\t\tdata.append('_token', $('meta[name=\"csrf-token\"]').attr('content'));\n\t\t\tconsole.log(data);\n\t\t\t//console.log(data);\n\t\t\t$.ajax({\n\t\t\t\t//data: {picture: file, _token: $('meta[name=\"csrf-token\"]').attr('content'), _method: 'POST'},\n\t\t\t\tdata: data,\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: laroute.route('admin.pictures.upload'),\n\t\t\t\tcache: false,\n\t\t\t\tcontentType: false,\n\t\t\t\tprocessData: false,\n\t\t\t\tsuccess: function(response) {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t$(textarea).summernote('insertImage', response.url, function($image) {\n\t\t\t\t\t\t$image.attr('class', 'img-responsive');\n\t\t\t\t\t\t$image.attr('id', response.name);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t$('#pictures_list').append(response.content);\n\t\t\t\t\t$(form).prepend('<input name=pictures[] type=\"hidden\" id=\"picture_' + response.id + '\" value=\"' + response.id + '\">');\n\t\t\t\t}, error: function(response) {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\tvar $errors = $.parseJSON(response.responseText);\n\t\t\t\t\t$.each( $errors, function( key, value ) {\n\t\t\t\t\t\ttoastr.error(value[0]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t\n\t/**\n\t * Permet de supprimer une photo dans l'éditeur, en la retirant également sur summernote\n\t * @param summernote\n\t */\n\tremovePicture: function(summernote) {\n\t\t$('body').on('click', '[data-action=\"remove-picture\"]', function(e) {\n\t\t\te.preventDefault();\n\t\t\t$.ajax({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: laroute.route('admin.pictures.destroy'),\n\t\t\t\tdata: {image: $(this).attr('data-name')},\n\t\t\t\tsuccess: function(response) {\n\t\t\t\t\tif( response.success ) {\n\t\t\t\t\t\t$('#picture_' + response.id).remove();\n\t\t\t\t\t\t$('#picture_card_' + response.id).remove();\n\t\t\t\t\t\t$(summernote).summernote('removeMedia', $('#' + response.name));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\t\n\t/**\n\t * Récupération de données en AJAX\n\t */\n\tloadDataOnClick: function() {\n\t\t$('body').on('click', '[data-action=load]', function(e) {\n\t\t\te.preventDefault();\n\t\t\t$.get($(this).attr('href'), function(response) {\n\t\t\t\tif( typeof response.alert != 'undefined' ) {\n\t\t\t\t\ttoastr[response.type](response.message);\n\t\t\t\t} else {\n\t\t\t\t\t$(response.element)[response.method](response.content);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\t\n\t/**\n\t * Permet de charger plus d'éléments\n\t */\n\tloadMore: function() {\n\t\t$('body').on('click', '[data-action=load-more]', function(e) {\n\t\t\te.preventDefault();\n\t\t\tvar $this = $(this);\n\t\t\t$.get($this.attr('href'), function(response) {\n\t\t\t\tconsole.log(response);\n\t\t\t\tif( response.count > 0 ) {\n\t\t\t\t\t$this.attr('href', response.href);\n\t\t\t\t\t$(response.element)[response.method](response.content);\n\t\t\t\t} else {\n\t\t\t\t\t$(response.element)[response.method](response.content);\n\t\t\t\t\t$this.addClass('disabled');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\t\n\t/**\n\t * Permet d'ordonner des liens facilement\n\t */\n\torderLinks: function() {\n\t\t$('body').on('click', '[data-action=\"order\"]', function(e) {\n\t\t\te.preventDefault();\n\t\t\tvar action = $(this);\n\t\t\tvar div = action.attr('data-div');\n\t\t\t$.get(action.attr('href'), function(response) {\n\t\t\t\tif( response.success ) {\n\t\t\t\t\t//$('#link_' + response.link.id).remove();\n\t\t\t\t\t//link.find('data-info=[\"position\"]').text(response.link.position);\n\t\t\t\t\tif( action.attr('data-asc') == 'up' ) {\n\t\t\t\t\t\t$('#' + div + '_' + response.element.id).insertBefore('#' + div + '_' + response.move.id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#' + div + '_' + response.element.id).insertAfter('#' + div + '_' + response.move.id);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t$('#' + div + '_' + response.element.id).find('[data-info=\"position\"]').text(response.position);\n\t\t\t\t\t$('#' + div + '_' + response.move.id).find('[data-info=\"position\"]').text(response.move_pos);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\t\n\t/**\n\t * Box de suppression en AJAX avec confirmation\n\t */\n\tdelete: function() {\n\t\t$('body').on('click', '[data-action=\"delete\"]', function(e) {\n\t\t\te.preventDefault();\n\t\t\tvar data = $(this);\n\t\t\tvar dataId = $(this).attr('data-id');\n\t\t\t\n\t\t\tswal({\n\t\t\t\ttitle: \"Êtes vous sûr ?\",\n\t\t\t\ttext: data.attr('data-message'),\n\t\t\t\ttype: \"warning\",\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tconfirmButtonText: \"Oui\",\n\t\t\t\tcancelButtonText: \"Non\",\n\t\t\t\tcloseOnConfirm: true,\n\t\t\t\tcloseOnCancel: true\n\t\t\t\t},\n\t\t\t\tfunction(isConfirm){\n\t\t\t\t\tif( isConfirm ) {\n\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\turl: data.attr('href'),\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: {_method: 'delete', _token: data.attr('data-token')},\n\t\t\t\t\t\t\tsuccess: function(response) {\n\t\t\t\t\t\t\t\tconsole.log(response.success);\n\t\t\t\t\t\t\t\tif( typeof response.success != 'undefined' && response.success ) {\n\t\t\t\t\t\t\t\t\t$('#' + dataId).fadeOut().remove();\n\t\t\t\t\t\t\t\t\tif( typeof response.message != 'undefined' ) {\n\t\t\t\t\t\t\t\t\t\ttoastr['success'](response.message);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar message = typeof response.message == 'undefined' ? 'Une erreur est survenue durant la suppression de l\\'élément' : response.message;\n\t\t\t\t\t\t\t\t\ttoastr['error'](message);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t});\n\t}\n};\n\n/**\n * Let's GO !\n */\napp.init();"]}